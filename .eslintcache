[{"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\index.js":"1","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\App.js":"2","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\index.js":"3","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\ImageCropper\\imageCropper.js":"4","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\style.js":"5","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\ImageCropper\\imageCropperHelper.js":"6","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\CustomInput\\CustomInput.js":"7","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\CustomInput\\customInputStyle.js":"8","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\constants.js":"9","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\HomePage\\HomePage.js":"10","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\HomePage\\style.js":"11","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\constants.js":"12","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\SingleAnalysisPage\\SingleAnalysisPage.js":"13","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MultiAnalysisPage\\MultiAnalysisPage.js":"14","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\SingleAnalysisPage\\style.js":"15","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MultiAnalysisPage\\style.js":"16","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\context.js":"17"},{"size":941,"mtime":1635647535131,"results":"18","hashOfConfig":"19"},{"size":555,"mtime":1610601607380,"results":"20","hashOfConfig":"19"},{"size":9793,"mtime":1636690255690,"results":"21","hashOfConfig":"19"},{"size":2583,"mtime":1635647535112,"results":"22","hashOfConfig":"19"},{"size":585,"mtime":1636690297520,"results":"23","hashOfConfig":"19"},{"size":2397,"mtime":1635647535113,"results":"24","hashOfConfig":"19"},{"size":2417,"mtime":1610603118085,"results":"25","hashOfConfig":"19"},{"size":1867,"mtime":1610603283550,"results":"26","hashOfConfig":"19"},{"size":439,"mtime":1636689609437,"results":"27","hashOfConfig":"19"},{"size":9355,"mtime":1636687530026,"results":"28","hashOfConfig":"19"},{"size":2026,"mtime":1635647535110,"results":"29","hashOfConfig":"19"},{"size":190,"mtime":1636688649816,"results":"30","hashOfConfig":"19"},{"size":7959,"mtime":1636688617886,"results":"31","hashOfConfig":"19"},{"size":5616,"mtime":1636688621539,"results":"32","hashOfConfig":"19"},{"size":1960,"mtime":1636690178168,"results":"33","hashOfConfig":"19"},{"size":2062,"mtime":1635647535122,"results":"34","hashOfConfig":"19"},{"size":742,"mtime":1636685132997,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"jxf2gb",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\index.js",[],["75","76"],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\App.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\index.js",["77","78","79","80","81","82","83","84","85","86"],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\ImageCropper\\imageCropper.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\style.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\ImageCropper\\imageCropperHelper.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\CustomInput\\CustomInput.js",[],["87","88"],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\CustomInput\\customInputStyle.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MaskSelector\\constants.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\HomePage\\HomePage.js",["89"],"import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport styles from \"./style.js\";\r\n\r\nimport multiAnalysisPageImg from \"../../assets/tutorial/single/multiAnalysisPageImg.PNG\";\r\nimport stepAreas from \"../../assets/tutorial/single/stepAreas.PNG\";\r\nimport stepChooseWidth from \"../../assets/tutorial/single/stepChooseWidth.PNG\";\r\nimport stepGridMasks from \"../../assets/tutorial/single/stepGridMasks.PNG\";\r\nimport stepGridMasks2 from \"../../assets/tutorial/single/stepGridMasks2.PNG\";\r\nimport stepImageMasked from \"../../assets/tutorial/single/stepImageMasked.PNG\";\r\nimport stepManualMask from \"../../assets/tutorial/single/stepManualMask.PNG\";\r\nimport stepMeasure from \"../../assets/tutorial/single/stepMeasure.PNG\";\r\nimport stepPressOk from \"../../assets/tutorial/single/stepPressOk.PNG\";\r\nimport uploadImageImg from \"../../assets/tutorial/single/uploadImageImg.PNG\";\r\nimport stepMultiSelect from \"../../assets/tutorial/single/stepMultiSelect.PNG\";\r\n\r\nimport { base_url } from \"../../constants.js\";\r\n\r\nconst HomePage = (props) => {\r\n  useEffect(() => {\r\n    //Wake up backend server\r\n    //By sending a fetch request to the backend server, this will wake it up\r\n    //Heroku automatically shuts down apps after a long period of inactivity\r\n\r\n    let url = base_url;\r\n    let form = new FormData();\r\n    form.append(\"wakeup\", \"wakeup server\");\r\n    let analyze_options = {\r\n      method: \"POST\",\r\n      body: form,\r\n    };\r\n    fetch(url, analyze_options)\r\n      .then((response) => {\r\n        if (!response.ok) throw Error(response.statusText);\r\n        return response.json();\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ ...styles.main, ...styles.mainRaised }}>\r\n      <div style={styles.container}>\r\n        <div style={styles.row}>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/single\")}\r\n          >\r\n            Go to single-image measurement\r\n          </Button>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/multi\")}\r\n          >\r\n            Go to multi-image measurement\r\n          </Button>\r\n        </div>\r\n        <div style={styles.column}>\r\n          <div style={styles.title}>\r\n            <h2>Automatic Wound Area Measurement</h2>\r\n            <h3>Home Page</h3>\r\n          </div>\r\n        </div>\r\n        <div style={styles.column}>\r\n          <h3>Tutorial</h3>\r\n          <div style={styles.column}>\r\n            <h4>Single-image measurement: </h4>\r\n            First, upload an image\r\n            <img src={uploadImageImg} style={styles.tutorialImage} alt=\"\" />\r\n            Now, you must set what the reference width for the image is. If it's\r\n            automatic (default) it will measure the length of the green line (c)\r\n            and set that to be equal to the referense width (a). If you set it\r\n            to manual (b), it will instead take the width of the image, and set\r\n            that to the reference width (a). This way the software knows how big\r\n            the wound is in real life, and not just in pixels.\r\n            <img src={stepChooseWidth} style={styles.tutorialImage} alt=\"\" />\r\n            Now, we will measure the area of the wounds. It is highly\r\n            recommended to first crop the image (1) to a smaller size that still\r\n            includes the wounds and the green line (for auto-width), so that if\r\n            you need to manually adjust the mask it is easier to see the\r\n            borders. Second, we now select the mask (2) to identify what type of\r\n            wound we're looking for, specifically this changes the HSV color\r\n            ranges for finding what counts as the wound. Finally, press the\r\n            MEASURE AREA button (3) and the areas will be calculated.\r\n            <img src={stepMeasure} style={styles.tutorialImage} alt=\"\" />\r\n            After pressing the button, the image will be sent to a server which\r\n            analyses the image. After a few seconds, the server should finish\r\n            analysis and send it back to your computer- after which there will\r\n            be a popup as shown below. Press ok on the popup.\r\n            <img src={stepPressOk} style={styles.tutorialImage} alt=\"\" />\r\n            Borders are now generated on the image, and the areas of each border\r\n            (from left to right) are calculated and displayed.\r\n            <img src={stepImageMasked} style={styles.tutorialImage} alt=\"\" />\r\n            For most images, the border will be close but not exact. There are\r\n            two ways to make the border closer to the wound. The first (easier)\r\n            is to look at the grid below. The grid automatically adjusts the\r\n            wound mask to stricter and looser settings and displays. The center\r\n            image is the image with the original mask. By clicking on any of the\r\n            images, you will be able to re-analyze the image based on those\r\n            settings.\r\n            <img src={stepGridMasks} style={styles.tutorialImage} alt=\"\" />\r\n            After clicking, and then pressing the ok button like before, you can\r\n            now see that a new grid of stricter and looser masks is generated\r\n            around the image selected in the last step. Similarly as we clicked\r\n            the top left image before, the original settings are now in the\r\n            bottom right image.\r\n            <img src={stepGridMasks2} style={styles.tutorialImage} alt=\"\" />\r\n            You can continue this process until you are satisifed. Similarlly,\r\n            the second way to adjust the wound mask would be to use the manual\r\n            adjustment settings shown below:\r\n            <img src={stepManualMask} style={styles.tutorialImage} alt=\"\" />\r\n            Each of these buttons has instructions showing how it changes the\r\n            wound mask, i.e. changing what counts as a wound for the software.\r\n            This can be used from the beginning, or used along with the grid\r\n            method. Once you're done, the areas are listed in the location\r\n            below, corresponding to the wounds on the image from left to right.\r\n            <img src={stepAreas} style={styles.tutorialImage} alt=\"\" />\r\n            <h4>Multi-image measurement: </h4>\r\n            The process for selecting the initial mask for the multi-image\r\n            measurement method is the same except it uses only automatic width\r\n            measurement. After selecting a mask, upload a zip file containing\r\n            your images, it will process them in alphanumeric order. After\r\n            pressing UPLOAD AND ANALYZE ZIP FILE it will immedietly send the\r\n            file to the server and begin analyzing. This will generally take\r\n            longer than single-image measurement because there are more images\r\n            in the zip file to analyze.\r\n            <img\r\n              src={multiAnalysisPageImg}\r\n              style={styles.tutorialImage}\r\n              alt=\"\"\r\n            />\r\n            Once you press ok from the popup, you will then see all the images.\r\n            They are listed in order, using the green line as a width reference.\r\n            The areas are listed for the wounds in order of left-to-right just\r\n            like in single analysis. For most images, the mask will not be\r\n            exactly correct, so you can click on the image itself in order to\r\n            automatically go to the single-image measurement page with that\r\n            image automatically transfered.\r\n            <img src={stepMultiSelect} style={styles.tutorialImage} alt=\"\" />\r\n            <h4>Warnings/Closure</h4>\r\n            <li>\r\n              Make sure the width of the green line is correctly measured, as\r\n              that is what is being used as reference for the wound area.\r\n              Depending on lighting conditions, the software may not correctly\r\n              process all of the green line.\r\n            </li>\r\n            <li>\r\n              For some reason, if you've already send a zip file for analysis\r\n              and want to send another zip file, you need to first reload the\r\n              page. I've tried tracking down this bug for hours and hours and\r\n              I've been unable to solve it, since it's not critical, I've put it\r\n              on the backlog while I work on other more critical tasks.\r\n            </li>\r\n            <li>\r\n              Since this web application is hosted for free on Heroku, after a\r\n              long period of inactivity the frontend app and backend server will\r\n              shutdown, so if you load the page after a long time it will likely\r\n              give you an error at first. Don't worry, this is just because the\r\n              server is stopped. After you tried to open the page (url request),\r\n              it asked Heroku to restart the server and by the time it gives you\r\n              the error, it has already started up again and you can just reload\r\n              the page and you'll see the app.\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\HomePage\\style.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\constants.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\SingleAnalysisPage\\SingleAnalysisPage.js",["90","91","92"],"import React, { useEffect, useState } from \"react\";\r\nimport Cropper from \"../ImageCropper/imageCropper\";\r\n\r\nimport { Button, Checkbox, Tooltip, TextField } from \"@material-ui/core\";\r\n\r\nimport styles from \"./style.js\";\r\n\r\nimport MaskSelector from \"../MaskSelector/index.js\";\r\n\r\nimport { base_url } from \"../../constants.js\";\r\n\r\nimport { Context } from \"../context\";\r\n\r\nfunction SingleAnalysisPage(props) {\r\n  const { settings, setSettings } = React.useContext(Context);\r\n  const [currentImage, setCurrentImage] = useState();\r\n  const [originalImage, setOriginalImage] = useState();\r\n  const [currentImages, setCurrentImages] = useState();\r\n  const [useCrop, setUseCrop] = useState(false);\r\n  const [areas, setAreas] = useState([]);\r\n  const [jumpHeading, setJumpHeading] = useState();\r\n\r\n  useEffect(() => {\r\n    if (props.location.state != null) {\r\n      const obj = props.location.state.obj;\r\n      if (obj != null) {\r\n        if (obj[\"drawn_image\"]) {\r\n          setCurrentImage(obj[\"drawn_image\"]);\r\n        } else {\r\n          setCurrentImage(obj[\"orig\"]);\r\n        }\r\n        setOriginalImage(obj[\"orig\"]);\r\n        setJumpHeading(obj[\"id\"]);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const getBase64 = (file, cb) => {\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      cb(reader.result);\r\n    };\r\n    reader.onerror = function (error) {\r\n      console.log(\"Error: \", error);\r\n    };\r\n  };\r\n\r\n  const completeCrop = (image) => {\r\n    setUseCrop(false);\r\n    setCurrentImage(image);\r\n    setOriginalImage(image);\r\n  };\r\n\r\n  const onImageChange = (event) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      let imgFile = event.target.files[0];\r\n      getBase64(imgFile, (result) => {\r\n        setCurrentImage(result);\r\n        setOriginalImage(result);\r\n      });\r\n    }\r\n  };\r\n\r\n  const reanalyzeImage = async (obj) => {\r\n    let newSettings = {\r\n      ...settings,\r\n      lowerBound: obj[\"lowerBound\"],\r\n      upperBound: obj[\"upperBound\"],\r\n      autoMask: false,\r\n    };\r\n    setSettings(newSettings);\r\n    analyzeImage(newSettings);\r\n  };\r\n\r\n  const analyzeImage = async (settings) => {\r\n    if (currentImage && settings.width) {\r\n      const url = base_url + \"/measure\";\r\n\r\n      const form = new FormData();\r\n      form.append(\"base64\", originalImage);\r\n      form.append(\"settings\", settings);\r\n\r\n      fetch(url, {\r\n        method: \"POST\",\r\n        body: form,\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) throw Error(response.statusText);\r\n          return response.json();\r\n        })\r\n        .then((matrix) => {\r\n          if (matrix[1][1][\"error\"] == false) {\r\n            setCurrentImage(matrix[1][1][\"drawn_image\"]);\r\n            setOriginalImage(matrix[1][1][\"orig\"]);\r\n            setCurrentImages(matrix);\r\n            setAreas(matrix[1][1][\"areas\"]);\r\n            alert(\"Images analyzed\");\r\n          } else {\r\n            alert(matrix[1][1][\"error_message\"]);\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    } else if (currentImage && !settings.width) {\r\n      alert(\"Please specify an image width\");\r\n    } else if (!currentImage && settings.width) {\r\n      alert(\"Please upload an image\");\r\n    } else {\r\n      alert(\"Please upload an image and specify it's real width\");\r\n    }\r\n  };\r\n\r\n  const handleWidthChange = (event) => {\r\n    setSettings((prevSettings) => ({\r\n      ...prevSettings,\r\n      width: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleCropChange = () => {\r\n    setUseCrop(true);\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...styles.main, ...styles.mainRaised }}>\r\n      <div style={styles.container}>\r\n        <div style={styles.row}>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/home\")}\r\n          >\r\n            Go to home page\r\n          </Button>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/multi\")}\r\n          >\r\n            Go to multi-image measurement\r\n          </Button>\r\n        </div>\r\n        <div style={styles.title}>\r\n          <h2>Automatic Wound Area Measurement</h2>\r\n          <h4>Single-image measurement</h4>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <div style={styles.column}>\r\n            <div style={styles.button} style={{ flex: 1 }}>\r\n              <h3>Upload Image</h3>\r\n              <Button variant=\"contained\" component=\"label\">\r\n                Upload Image\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"myImage\"\r\n                  hidden\r\n                  onChange={onImageChange}\r\n                />\r\n              </Button>\r\n            </div>\r\n            <div style={styles.column}>\r\n              <div style={{ height: 40 }} />\r\n              <Tooltip\r\n                title=\"This is the length of the green line, if manual, this is the width of the image\"\r\n                placement=\"top-start\"\r\n              >\r\n                <TextField\r\n                  id=\"standard-number\"\r\n                  label=\"Enter reference width (cm)\"\r\n                  defaultValue={settings.width}\r\n                  InputProps={{\r\n                    onChange: handleWidthChange,\r\n                  }}\r\n                />\r\n              </Tooltip>\r\n              <div style={styles.row}>\r\n                <Checkbox\r\n                  checked={!settings.autoWidth}\r\n                  onChange={() =>\r\n                    setSettings((prevSettings) => ({\r\n                      ...prevSettings,\r\n                      autoWidth: !prevSettings[\"autoWidth\"],\r\n                    }))\r\n                  }\r\n                  value=\"autoMask\"\r\n                />\r\n                <div style={styles.centeredText}>Set width to manual</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.column}>\r\n            {useCrop ? (\r\n              <Cropper\r\n                currentImage={originalImage}\r\n                completeCrop={completeCrop}\r\n              />\r\n            ) : (\r\n              <>\r\n                <h3>Image {jumpHeading}</h3>\r\n                <div style={styles.column}>\r\n                  <img src={currentImage} style={styles.images} alt=\"\" />\r\n                  <Button\r\n                    style={styles.cropButton}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleCropChange}\r\n                  >\r\n                    Crop Image\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <MaskSelector />\r\n        <div style={styles.row}>\r\n          <div style={styles.column}>\r\n            <h3>Current areas:</h3>\r\n            {areas.map((value, i) => (\r\n              <b key={i}>{value}cm^2</b>\r\n            ))}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={analyzeImage}\r\n              style={styles.cropButton}\r\n            >\r\n              Measure area\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        {currentImages ? (\r\n          <div style={styles.column}>\r\n            <p>Stricter farther right (+sat) and down (+val)</p>\r\n            {currentImages.map((row, i) => (\r\n              <div key={i} style={styles.row}>\r\n                {row.map((obj, i) => (\r\n                  <img\r\n                    key={i}\r\n                    src={obj[\"drawn_image\"]}\r\n                    style={styles.gridImage}\r\n                    alt=\"\"\r\n                    onClick={() => reanalyzeImage(obj)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleAnalysisPage;\r\n","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MultiAnalysisPage\\MultiAnalysisPage.js",["93","94","95"],"import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { Button, Checkbox, Tooltip, TextField } from \"@material-ui/core\";\r\n\r\nimport styles from \"./style.js\";\r\n\r\nimport MaskSelector from \"../MaskSelector/index.js\";\r\n\r\nimport { base_url, base_ml_url } from \"../../constants.js\";\r\n\r\nimport { Context } from \"../context\";\r\n\r\nfunction MultiAnalysisPage(props) {\r\n  const { settings, setSettings, zipImgList, setZipImgList } =\r\n    React.useContext(Context);\r\n\r\n  useEffect(() => {\r\n    let url = base_url;\r\n    let ml_url = base_ml_url;\r\n    //const url = \"/\"\r\n    let form = new FormData();\r\n    form.append(\"wakeup\", \"wakeup server\");\r\n    let analyze_options = {\r\n      method: \"POST\",\r\n      body: form,\r\n    };\r\n    fetch(url, analyze_options)\r\n      .then((response) => {\r\n        if (!response.ok) throw Error(response.statusText);\r\n        return response.json();\r\n      })\r\n      .catch((error) => console.log(error));\r\n\r\n    fetch(ml_url, analyze_options)\r\n      .then((response) => {\r\n        if (!response.ok) throw Error(response.statusText);\r\n        return response.json();\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  const uploadDayZip = async (event) => {\r\n    let zipFile = event.target.files[0];\r\n    if (zipFile) {\r\n      let url = base_url + \"/zipMeasure\";\r\n      let form = new FormData();\r\n      form.append(\"file\", zipFile);\r\n      form.append(\"width\", settings.width);\r\n      form.append(\"settings\", settings);\r\n\r\n      //Then analyze\r\n      const analyze_options = {\r\n        method: \"POST\",\r\n        body: form,\r\n      };\r\n      fetch(url, analyze_options)\r\n        .then((response) => {\r\n          if (!response.ok) throw Error(response.statusText);\r\n          return response.json();\r\n        })\r\n        .then((imgList) => {\r\n          alert(\"Images analyzed\");\r\n          setZipImgList(imgList);\r\n        })\r\n        .catch((error) => {\r\n          if (error instanceof TypeError) {\r\n            alert(\"Too many images, make a smaller Zip file\");\r\n          } else {\r\n            console.log(error);\r\n            alert(\"Unknown error, let Alex know about this. Error:\", error);\r\n          }\r\n        });\r\n    } else {\r\n      alert(\"Please upload an zip file\");\r\n    }\r\n  };\r\n\r\n  const reanalyzeImage = async (obj, i) => {\r\n    obj[\"id\"] = i;\r\n    props.history.push({\r\n      pathname: \"/single\",\r\n      state: { obj: obj },\r\n    });\r\n  };\r\n\r\n  const handleWidthChange = (event) => {\r\n    setSettings((prevSettings) => ({\r\n      ...prevSettings,\r\n      width: event.target.value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...styles.main, ...styles.mainRaised }}>\r\n      <div style={styles.container}>\r\n        <div style={styles.row}>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/home\")}\r\n          >\r\n            Go to home page\r\n          </Button>\r\n          <Button\r\n            style={styles.cropButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => props.history.push(\"/single\")}\r\n          >\r\n            Go to single-image measurement\r\n          </Button>\r\n        </div>\r\n        <div style={styles.column}>\r\n          <div style={styles.title}>\r\n            <h2>Automatic Wound Area Measurement</h2>\r\n            <h4>Multi-image measurement</h4>\r\n          </div>\r\n        </div>\r\n        <div style={styles.column}>\r\n          <div style={{ height: 20 }} />\r\n          <Tooltip\r\n            title=\"This is the length of the green line\"\r\n            placement=\"top-start\"\r\n          >\r\n            <TextField\r\n              id=\"standard-number\"\r\n              label=\"Enter reference width (cm)\"\r\n              defaultValue={settings.width}\r\n              InputProps={{\r\n                onChange: handleWidthChange,\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n        <div style={styles.column}>\r\n          <MaskSelector />\r\n        </div>\r\n        <div style={styles.column}>\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            color=\"primary\"\r\n            style={styles.analyzeButton}\r\n          >\r\n            Upload and analyze ZIP file\r\n            <input type=\"file\" name=\"myImage\" hidden onChange={uploadDayZip} />\r\n          </Button>\r\n        </div>\r\n        <div style={styles.column}>\r\n          {zipImgList.map((obj, i) => (\r\n            <div key={i} id={\"zipImg\" + i}>\r\n              {obj[\"error\"] === false ? (\r\n                <div style={styles.row}>\r\n                  <img\r\n                    src={obj[\"drawn_image\"]}\r\n                    style={styles.colImage}\r\n                    alt=\"\"\r\n                    onClick={() => reanalyzeImage(obj, i)}\r\n                  />\r\n                  <div style={styles.column}>\r\n                    <h3>Image: {i}</h3>\r\n                    <h3>Areas</h3>\r\n                    {obj[\"areas\"].map((area) => (\r\n                      <h5>{area}cm^2</h5>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div style={styles.row}>\r\n                  <img\r\n                    src={obj[\"orig\"]}\r\n                    style={styles.colImage}\r\n                    alt=\"\"\r\n                    onClick={() => reanalyzeImage(obj, i)}\r\n                  />\r\n                  <p>Error: {obj[\"error_message\"]}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MultiAnalysisPage;\r\n","C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\SingleAnalysisPage\\style.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\MultiAnalysisPage\\style.js",[],"C:\\Users\\runal\\Documents\\GitHub\\Wound-Analysis-Frontend\\src\\components\\context.js",[],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":1,"column":17,"nodeType":"102","messageId":"103","endLine":1,"endColumn":27},{"ruleId":"100","severity":1,"message":"104","line":1,"column":29,"nodeType":"102","messageId":"103","endLine":1,"endColumn":37},{"ruleId":"105","severity":1,"message":"106","line":219,"column":17,"nodeType":"107","endLine":219,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":228,"column":17,"nodeType":"107","endLine":228,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":239,"column":17,"nodeType":"107","endLine":239,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":248,"column":17,"nodeType":"107","endLine":248,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":259,"column":17,"nodeType":"107","endLine":259,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":268,"column":17,"nodeType":"107","endLine":268,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":279,"column":17,"nodeType":"107","endLine":279,"endColumn":41},{"ruleId":"105","severity":1,"message":"106","line":288,"column":17,"nodeType":"107","endLine":288,"endColumn":41},{"ruleId":"96","replacedBy":"108"},{"ruleId":"98","replacedBy":"109"},{"ruleId":"100","severity":1,"message":"104","line":1,"column":28,"nodeType":"102","messageId":"103","endLine":1,"endColumn":36},{"ruleId":"110","severity":1,"message":"111","line":36,"column":6,"nodeType":"112","endLine":36,"endColumn":8,"suggestions":"113"},{"ruleId":"114","severity":1,"message":"115","line":93,"column":37,"nodeType":"116","messageId":"117","endLine":93,"endColumn":39},{"ruleId":"105","severity":1,"message":"106","line":151,"column":40,"nodeType":"107","endLine":151,"endColumn":59},{"ruleId":"100","severity":1,"message":"101","line":1,"column":17,"nodeType":"102","messageId":"103","endLine":1,"endColumn":27},{"ruleId":"100","severity":1,"message":"104","line":1,"column":40,"nodeType":"102","messageId":"103","endLine":1,"endColumn":48},{"ruleId":"100","severity":1,"message":"118","line":3,"column":18,"nodeType":"102","messageId":"103","endLine":3,"endColumn":26},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute",["119"],["120"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.location.state'. Either include it or remove the dependency array.","ArrayExpression",["121"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Checkbox' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},"Update the dependencies array to be: [props.location.state]",{"range":"124","text":"125"},[1170,1172],"[props.location.state]"]